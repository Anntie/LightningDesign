$(document).ready(function(){$(window).on('load',function(){[].forEach.call(document.querySelectorAll('img[data-src]'),function(a){a.setAttribute('src',a.getAttribute('data-src')),a.onload=function(){a.removeAttribute('data-src')}})}),$('img').on('dragstart',function(a){a.preventDefault()}),$.get('modals/?lang=ukr',function(a){$('body').append(a)}).done(function(){$('[data-toggle="tooltip"]').tooltip().click(function(){$(this).tooltip('toggle')}),$(document).on({'show.bs.modal':function(){var u=1040+10*$('.modal:visible').length;$(this).css('z-index',u),setTimeout(function(){$('.modal-backdrop').not('.modal-stack').css('z-index',u-1).addClass('modal-stack')},0)},'hidden.bs.modal':function(){0<$('.modal:visible').length&&setTimeout(function(){$(document.body).addClass('modal-open')},0)}},'.modal'),$('.modal').on('shown.bs.modal',function(){$(this).hasClass('modal-small')||($('html').addClass('freezePage'),$('body').addClass('freezePage'))}),$('.modal').on('hidden.bs.modal',function(){$(this).hasClass('modal-small')||($('html').removeClass('freezePage'),$('body').removeClass('freezePage'))}),$('#callback-button').hide().delay(6e3).fadeIn(400),$('.page-scroll').click(function(u){u.preventDefault(),$('html, body').animate({scrollTop:$($(this).attr('href')).offset().top-$('.navbar').height()},400)});const a=function(){$('.alert-error').fadeIn(),setTimeout(function(){$('.alert-error').fadeOut()},5e3)},b=function(){$('.alert-success').fadeIn(),setTimeout(function(){$('.alert-success').fadeOut()},5e3)};$('.alert').alert();let c=[],d=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=[],p=0,q=new Map;q.set('5_',c),q.set('5s_',d),q.set('SE_',f),q.set('6_',g),q.set('6 Plus_',h),q.set('6s_',i),q.set('6s Plus_',j),q.set('7_',k),q.set('7 Plus_',l),q.set('8_',m),q.set('8 Plus_',n),q.set('X_',o);const r=function(){$('.bg-primary').each(function(){$(this).trigger('click')})},s=function(){$('input').each(function(){$(this).val('')})};$('.close-modal').click(function(){r()});const t=function(){let u=[];for(let[v,w]of q){let x=w.length;for(const y=v.slice(0,-1);0<x;){let z=$(w[x-1]).html();u.push({model:y,value:z}),x--}}$('[data-toggle="tooltip"]').tooltip(),$('#order-data').val(JSON.stringify(u)),0<p?$('.gotocart').prop('disabled',!1).removeClass('btn-secondary').addClass('btn-primary'):$('.gotocart').prop('disabled',!0).removeClass('btn-primary').addClass('btn-secondary')};$('.service-table tr').click(function(){if($(this).hasClass('tr-disabled'))return!1;if($(this).hasClass('bg-primary')){$(this).removeClass('bg-primary');let u;switch($(this).parent().attr('id')){case'iPhone5-tbody':u=c;break;case'iPhone5s-tbody':u=d;break;case'iPhoneSE-tbody':u=f;break;case'iPhone6-tbody':u=g;break;case'iPhone6Plus-tbody':u=h;break;case'iPhone6s-tbody':u=i;break;case'iPhone6sPlus-tbody':u=j;break;case'iPhone7-tbody':u=k;break;case'iPhone7Plus-tbody':u=l;case'iPhone8-tbody':u=m;break;case'iPhone8Plus-tbody':u=n;break;case'iPhoneX-tbody':u=o;}let v=u.indexOf(this);0<=v&&(u.splice(v,1),p-=parseInt($(this).children('td').eq(1).html().substr(1))),0>=p?($('.price').addClass('d-none'),$('#cart-list-table').addClass('d-none')):$('.price').html('\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044C: \u20B4'+p),t()}else{switch($(this).addClass('bg-primary'),$(this).parent().attr('id')){case'iPhone5-tbody':c.push(this);break;case'iPhone5s-tbody':d.push(this);break;case'iPhoneSE-tbody':f.push(this);break;case'iPhone6-tbody':g.push(this);break;case'iPhone6Plus-tbody':h.push(this);break;case'iPhone6s-tbody':i.push(this);break;case'iPhone6sPlus-tbody':j.push(this);break;case'iPhone7-tbody':k.push(this);break;case'iPhone7Plus-tbody':l.push(this);break;case'iPhone8-tbody':m.push(this);break;case'iPhone8Plus-tbody':n.push(this);break;case'iPhoneX-tbody':o.push(this);}p+=parseInt($(this).children('td').eq(1).html().substr(1)),0<p&&($('.price').hasClass('d-none')&&($('.price').removeClass('d-none'),$('#cart-list-table').removeClass('d-none')),$('.price').html('\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044C: \u20B4'+p)),t()}}),$('#callback-form').submit(function(u){u.preventDefault();let v=$('#phonetocall').val();if(!v)return $('#warning-cb').fadeIn(),setTimeout(function(){$('#warning-cb').fadeOut()},5e3),!1;$.ajax({url:'order/callback.php',type:'POST',dataType:'JSON',data:{phone:v}}).done(function(x){0==x?($('#success-cb').fadeIn(),gtag_report_conversion()):($('#error-cb').fadeIn(),setTimeout(function(){$('#error-cb').fadeOut()},5e3))}).fail(function(){$('#error-cb').fadeIn(),setTimeout(function(){$('#error-cb').fadeOut()},5e3)}),$(this).fadeOut(),$('#phonetocall').val(''),$('#callback-h5').fadeOut(),setTimeout(function(){$('#helpModal').modal('hide')},5e3)}),$('#order-form').submit(function(u){u.preventDefault(),t();const v=$('#name').val(),w=$('#phone').val(),x=$('#order-data').val();if(!v||!w||!x)return $('#warning').fadeIn(),setTimeout(function(){$('#warning').fadeOut()},5e3),!1;$.ajax({url:'order/order.php',type:'POST',dataType:'JSON',data:{name:v,phone:w,data:x}}).done(function(z){0==z?(b(),r(),s(),setTimeout(function(){$('.modal').each(function(){$(this).modal('hide')})},2500)):a()}).fail(function(){a()})})})});