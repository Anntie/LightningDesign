(function(w,x){"use strict";var z,A;if(w.uaMatch=function(E){E=E.toLowerCase();var F=/(opr)[\/]([\w.]+)/.exec(E)||/(chrome)[ \/]([\w.]+)/.exec(E)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(E)||/(webkit)[ \/]([\w.]+)/.exec(E)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(E)||/(msie) ([\w.]+)/.exec(E)||0<=E.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(E)||0>E.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(E)||[],G=/(ipad)/.exec(E)||/(iphone)/.exec(E)||/(android)/.exec(E)||/(windows phone)/.exec(E)||/(win)/.exec(E)||/(mac)/.exec(E)||/(linux)/.exec(E)||/(cros)/i.exec(E)||[];return{browser:F[3]||F[1]||"",version:F[2]||"0",platform:G[0]||""}},z=w.uaMatch(x.navigator.userAgent),A={},z.browser&&(A[z.browser]=!0,A.version=z.version,A.versionNumber=parseInt(z.version)),z.platform&&(A[z.platform]=!0),(A.android||A.ipad||A.iphone||A["windows phone"])&&(A.mobile=!0),(A.cros||A.mac||A.linux||A.win)&&(A.desktop=!0),(A.chrome||A.opr||A.safari)&&(A.webkit=!0),A.rv){var B="msie";z.browser=B,A[B]=!0}if(A.opr){var C="opera";z.browser=C,A[C]=!0}if(A.safari&&A.android){var D="android";z.browser=D,A[D]=!0}A.name=z.browser,A.platform=z.platform,w.browser=A})(jQuery,window),function(w){var x=(w.browser.msie?"paste":"input")+".mask",y=window.orientation!=void 0;w.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},w.fn.extend({caret:function(z,A){if(0!=this.length){if("number"==typeof z)return A="number"==typeof A?A:z,this.each(function(){if(this.setSelectionRange)this.setSelectionRange(z,A);else if(this.createTextRange){var C=this.createTextRange();C.collapse(!0),C.moveEnd("character",A),C.moveStart("character",z),C.select()}});if(this[0].setSelectionRange)z=this[0].selectionStart,A=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var B=document.selection.createRange();z=0-B.duplicate().moveStart("character",-1e5),A=z+B.text.length}return{begin:z,end:A}}},unmask:function(){return this.trigger("unmask")},mask:function(z,A){if(!z&&0<this.length){var B=w(this[0]);return B.data(w.mask.dataName)()}A=w.extend({placeholder:"_",completed:null},A);var C=w.mask.definitions,D=[],E=z.length,F=null,G=z.length;return w.each(z.split(""),function(H,I){"?"==I?(G--,E=H):C[I]?(D.push(new RegExp(C[I])),null==F&&(F=D.length-1)):D.push(null)}),this.trigger("unmask").each(function(){function H(T){for(var U=Q.val(),V=-1,W=0,X=0;W<G;W++)if(D[W]){for(R[W]=A.placeholder;X++<U.length;){var Y=U.charAt(X-1);if(D[W].test(Y)){R[W]=Y,V=W;break}}if(X>U.length)break}else R[W]==U.charAt(X)&&W!=E&&(X++,V=W);return!T&&V+1<E?(Q.val(""),J(0,G)):(T||V+1>=E)&&(I(),T||Q.val(Q.val().substring(0,V+1))),E?W:F}function I(){return Q.val(R.join("")).val()}function J(T,U){for(var V=T;V<U&&V<G;V++)D[V]&&(R[V]=A.placeholder)}function M(T){for(var U=T,V=A.placeholder;U<G;U++)if(D[U]){var W=P(U),X=R[U];if(R[U]=V,W<G&&D[W].test(X))V=X;else break}}function N(T,U){if(!(0>T)){for(var V=T,W=P(U);V<G;V++)if(D[V]){if(W<G&&D[V].test(R[W]))R[V]=R[W],R[W]=A.placeholder;else break;W=P(W)}I(),Q.caret(Math.max(F,T))}}function O(T){for(;0<=--T&&!D[T];);return T}function P(T){for(;++T<=G&&!D[T];);return T}var Q=w(this),R=w.map(z.split(""),function(T){if("?"!=T)return C[T]?A.placeholder:T}),S=Q.val();Q.data(w.mask.dataName,function(){return w.map(R,function(T,U){return D[U]&&T!=A.placeholder?T:null}).join("")}),Q.attr("readonly")||Q.one("unmask",function(){Q.unbind(".mask").removeData(w.mask.dataName)}).bind("focus.mask",function(){S=Q.val();var T=H();I();var U=function(){T==z.length?Q.caret(0,T):Q.caret(T)};(w.browser.msie?U:function(){setTimeout(U,0)})()}).bind("blur.mask",function(){H(),Q.val()!=S&&Q.change()}).bind("keydown.mask",function(T){var U=T.which;if(8==U||46==U||y&&127==U){var V=Q.caret(),W=V.begin,X=V.end;return 0==X-W&&(W=46==U?X=P(W-1):O(W),X=46==U?P(X):X),J(W,X),N(W,X-1),!1}return 27==U?(Q.val(S),Q.caret(0,H()),!1):void 0}).bind("keypress.mask",function(T){var U=T.which,V=Q.caret();if(T.ctrlKey||T.altKey||T.metaKey||32>U)return!0;if(U){0!=V.end-V.begin&&(J(V.begin,V.end),N(V.begin,V.end-1));var W=P(V.begin-1);if(W<G){var X=String.fromCharCode(U);if(D[W].test(X)){M(W),R[W]=X,I();var Y=P(W);Q.caret(Y),A.completed&&Y>=G&&A.completed.call(Q)}}return!1}}).bind(x,function(){setTimeout(function(){Q.caret(H(!0))},0)}),H()})}})}(jQuery),$(function(){$("#phone, #phonetocall").mask("(999) 999-9999"),$("#phone").on("blur",function(){var w=$(this).val().substr($(this).val().indexOf("-")+1);if(5==w.length){var x=$(this).val().substr($(this).val().indexOf("-")+1,1),y=w.substr(1,4),z=$(this).val().substr(0,9);$(this).val(z+x+"-"+y)}})});