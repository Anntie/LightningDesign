var DateFormatter;!function(){"use strict";var e,t,n,o,a,r,i;r=864e5,i=3600,e=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},t=function(e,n,o){var a=o||"0",r=e.toString();return r.length<n?t(a+r,n):r},n=function(e){var t,o;for(e=e||{},t=1;t<arguments.length;t++)if(o=arguments[t])for(var a in o)o.hasOwnProperty(a)&&("object"==typeof o[a]?n(e[a],o[a]):e[a]=o[a]);return e},o=function(e,t){for(var n=0;n<t.length;n++)if(t[n].toLowerCase()===e.toLowerCase())return n;return-1},a={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,n={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&n[t]?n[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},(DateFormatter=function(e){var t=this,o=n(a,e);t.dateSettings=o.dateSettings,t.separators=o.separators,t.validParts=o.validParts,t.intParts=o.intParts,t.tzParts=o.tzParts,t.tzClip=o.tzClip}).prototype={constructor:DateFormatter,getMonth:function(e){var t,n=this;return 0===(t=o(e,n.dateSettings.monthsShort)+1)&&(t=o(e,n.dateSettings.months)+1),t},parseDate:function(t,n){var o,a,r,i,s,l,d,u,c,f,h=this,m=!1,g=!1,p=h.dateSettings,x={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!t)return null;if(t instanceof Date)return t;if("U"===n)return r=parseInt(t),r?new Date(1e3*r):t;switch(typeof t){case"number":return new Date(t);case"string":break;default:return null}if(!(o=n.match(h.validParts))||0===o.length)throw new Error("Invalid date format definition.");for(a=t.replace(h.separators,"\0").split("\0"),r=0;r<a.length;r++)switch(i=a[r],s=parseInt(i),o[r]){case"y":case"Y":if(!s)return null;c=i.length,x.year=2===c?parseInt((70>s?"20":"19")+i):s,m=!0;break;case"m":case"n":case"M":case"F":if(isNaN(s)){if(!((l=h.getMonth(i))>0))return null;x.month=l}else{if(!(s>=1&&12>=s))return null;x.month=s}m=!0;break;case"d":case"j":if(!(s>=1&&31>=s))return null;x.day=s,m=!0;break;case"g":case"h":if(d=o.indexOf("a")>-1?o.indexOf("a"):o.indexOf("A")>-1?o.indexOf("A"):-1,f=a[d],d>-1)u=e(f,p.meridiem[0])?0:e(f,p.meridiem[1])?12:-1,s>=1&&12>=s&&u>-1?x.hour=s+u-1:s>=0&&23>=s&&(x.hour=s);else{if(!(s>=0&&23>=s))return null;x.hour=s}g=!0;break;case"G":case"H":if(!(s>=0&&23>=s))return null;x.hour=s,g=!0;break;case"i":if(!(s>=0&&59>=s))return null;x.min=s,g=!0;break;case"s":if(!(s>=0&&59>=s))return null;x.sec=s,g=!0}if(!0===m&&x.year&&x.month&&x.day)x.date=new Date(x.year,x.month-1,x.day,x.hour,x.min,x.sec,0);else{if(!0!==g)return null;x.date=new Date(0,0,0,x.hour,x.min,x.sec,0)}return x.date},guessDate:function(e,t){if("string"!=typeof e)return e;var n,o,a,r,i,s,l=this,d=e.replace(l.separators,"\0").split("\0"),u=/^[djmn]/g,c=t.match(l.validParts),f=new Date,h=0;if(!u.test(c[0]))return e;for(a=0;a<d.length;a++){if(h=2,i=d[a],s=parseInt(i.substr(0,2)),isNaN(s))return null;switch(a){case 0:"m"===c[0]||"n"===c[0]?f.setMonth(s-1):f.setDate(s);break;case 1:"m"===c[0]||"n"===c[0]?f.setDate(s):f.setMonth(s-1);break;case 2:if(o=f.getFullYear(),n=i.length,h=4>n?n:4,!(o=parseInt(4>n?o.toString().substr(0,4-n)+i:i.substr(0,4))))return null;f.setFullYear(o);break;case 3:f.setHours(s);break;case 4:f.setMinutes(s);break;case 5:f.setSeconds(s)}(r=i.substr(h)).length>0&&d.splice(a+1,0,r)}return f},parseFormat:function(e,n){var o,a=this,s=a.dateSettings,l=/\\?(.?)/gi,d=function(e,t){return o[e]?o[e]():t};return o={d:function(){return t(o.j(),2)},D:function(){return s.daysShort[o.w()]},j:function(){return n.getDate()},l:function(){return s.days[o.w()]},N:function(){return o.w()||7},w:function(){return n.getDay()},z:function(){var e=new Date(o.Y(),o.n()-1,o.j()),t=new Date(o.Y(),0,1);return Math.round((e-t)/r)},W:function(){var e=new Date(o.Y(),o.n()-1,o.j()-o.N()+3),n=new Date(e.getFullYear(),0,4);return t(1+Math.round((e-n)/r/7),2)},F:function(){return s.months[n.getMonth()]},m:function(){return t(o.n(),2)},M:function(){return s.monthsShort[n.getMonth()]},n:function(){return n.getMonth()+1},t:function(){return new Date(o.Y(),o.n(),0).getDate()},L:function(){var e=o.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=o.n(),t=o.W();return o.Y()+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return o.Y().toString().slice(-2)},a:function(){return o.A().toLowerCase()},A:function(){var e=o.G()<12?0:1;return s.meridiem[e]},B:function(){var e=n.getUTCHours()*i,o=60*n.getUTCMinutes(),a=n.getUTCSeconds();return t(Math.floor((e+o+a+i)/86.4)%1e3,3)},g:function(){return o.G()%12||12},G:function(){return n.getHours()},h:function(){return t(o.g(),2)},H:function(){return t(o.G(),2)},i:function(){return t(n.getMinutes(),2)},s:function(){return t(n.getSeconds(),2)},u:function(){return t(1e3*n.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(n))[1]||"Coordinated Universal Time"},I:function(){return new Date(o.Y(),0)-Date.UTC(o.Y(),0)!=new Date(o.Y(),6)-Date.UTC(o.Y(),6)?1:0},O:function(){var e=n.getTimezoneOffset(),o=Math.abs(e);return(e>0?"-":"+")+t(100*Math.floor(o/60)+o%60,4)},P:function(){var e=o.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return(String(n).match(a.tzParts)||[""]).pop().replace(a.tzClip,"")||"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,d)},r:function(){return"D, d M Y H:i:s O".replace(l,d)},U:function(){return n.getTime()/1e3||0}},d(e,e)},formatDate:function(e,t){var n,o,a,r,i,s=this,l="";if("string"==typeof e&&!(e=s.parseDate(e,t)))return null;if(e instanceof Date){for(a=t.length,n=0;a>n;n++)"S"!==(i=t.charAt(n))&&"\\"!==i&&(n>0&&"\\"===t.charAt(n-1)?l+=i:(r=s.parseFormat(i,e),n!==a-1&&s.intParts.test(i)&&"S"===t.charAt(n+1)&&(o=parseInt(r)||0,r+=s.dateSettings.ordinal(o)),l+=r));return l}return""}}}();var datetimepickerFactory=function(e){"use strict";function t(e,t,n){this.date=e,this.desc=t,this.style=n}var n={i18n:{en:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},ru:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},o=null,a="en",r={meridiem:["AM","PM"]},i=function(){var t=n.i18n[a],i={days:t.dayOfWeek,daysShort:t.dayOfWeekShort,months:t.months,monthsShort:e.map(t.months,function(e){return e.substring(0,3)})};"function"==typeof DateFormatter&&(o=new DateFormatter({dateSettings:e.extend({},r,i)}))};e.datetimepicker={setLocale:function(e){var t=n.i18n[e]?e:"en";a!==t&&(a=t,i())},setDateFormatter:function(e){o=e},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},i(),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(-([a-z]))/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(e,t,n){return n.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,o;for(n=t||0,o=this.length;n<o;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t,n){return this.each(function(){var o,a,r,i,s,l=e(this),d=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(n.x=e.clientX,n.y=e.clientY),n},u=100,c=!1,f=0,h=0,m=0,g=!1,p=0,x=function(){};"hide"!==n?(e(this).hasClass("xdsoft_scroller_box")||(o=l.children().eq(0),a=l[0].clientHeight,r=o[0].offsetHeight,i=e('<div class="xdsoft_scrollbar"></div>'),s=e('<div class="xdsoft_scroller"></div>'),i.append(s),l.addClass("xdsoft_scroller_box").append(i),x=function(e){var t=d(e).y-f+p;t<0&&(t=0),t+s[0].offsetHeight>m&&(t=m-s[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[u?t/u:0])},s.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(o){a||l.trigger("resize_scroll.xdsoft_scroller",[n]),f=d(o).y,p=parseInt(s.css("margin-top"),10),m=i[0].offsetHeight,"mousedown"===o.type||"touchstart"===o.type?(t.ownerDocument&&e(t.ownerDocument.body).addClass("xdsoft_noselect"),e([t.ownerDocument.body,t.contentWindow]).on("touchend mouseup.xdsoft_scroller",function n(){e([t.ownerDocument.body,t.contentWindow]).off("touchend mouseup.xdsoft_scroller",n).off("mousemove.xdsoft_scroller",x).removeClass("xdsoft_noselect")}),e(t.ownerDocument.body).on("mousemove.xdsoft_scroller",x)):(g=!0,o.stopPropagation(),o.preventDefault())}).on("touchmove",function(e){g&&(e.preventDefault(),x(e))}).on("touchend touchcancel",function(){g=!1,p=0}),l.on("scroll_element.xdsoft_scroller",function(e,t){a||l.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,s.css("margin-top",u*t),setTimeout(function(){o.css("marginTop",-parseInt((o[0].offsetHeight-a)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,n){var d,c;a=l[0].clientHeight,r=o[0].offsetHeight,c=(d=a/r)*i[0].offsetHeight,d>1?s.hide():(s.show(),s.css("height",parseInt(c>10?c:10,10)),u=i[0].offsetHeight-s[0].offsetHeight,!0!==n&&l.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(o.css("marginTop"),10))/(r-a)]))}),l.on("mousewheel",function(e){var t=Math.abs(parseInt(o.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),l.trigger("scroll_element.xdsoft_scroller",[t/(r-a)]),e.stopPropagation(),!1}),l.on("touchstart",function(e){c=d(e),h=Math.abs(parseInt(o.css("marginTop"),10))}),l.on("touchmove",function(e){if(c){e.preventDefault();var t=d(e);l.trigger("scroll_element.xdsoft_scroller",[(h-(t.y-c.y))/(r-a)])}}),l.on("touchend touchcancel",function(){c=!1,h=0})),l.trigger("resize_scroll.xdsoft_scroller",[n])):l.find(".xdsoft_scrollbar").hide()})},e.fn.datetimepicker=function(r,i){var s,l,d=this,u=48,c=57,f=96,h=105,m=17,g=46,p=13,x=27,D=8,v=37,y=38,T=39,w=40,b=9,_=116,k=65,M=67,S=86,C=90,O=89,Y=!1,F=e.isPlainObject(r)||!r?e.extend(!0,{},n,r):e.extend(!0,{},n),H=0,W=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function t(){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(H),H=setTimeout(function(){e.data("xdsoft_datetimepicker")||s(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")},100))})};return s=function(n){function i(){var e,t=!1;return F.startDate?t=P.strToDate(F.startDate):(t=F.value||(n&&n.val&&n.val()?n.val():""))?t=P.strToDateTime(t):F.defaultDate&&(t=P.strToDateTime(F.defaultDate),F.defaultTime&&(e=P.strtotime(F.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes()))),t&&P.isValidDate(t)?A.data("changed",!0):t="",t||0}function s(t){var o=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)},a=function(e){try{if(t.ownerDocument.selection&&t.ownerDocument.selection.createRange)return t.ownerDocument.selection.createRange().getBookmark().charCodeAt(2)-2;if(e.setSelectionRange)return e.selectionStart}catch(e){return 0}},r=function(e,n){if(!(e="string"==typeof e||e instanceof String?t.ownerDocument.getElementById(e):e))return!1;if(e.createTextRange){var o=e.createTextRange();return o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",n),o.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(n,n),!0)};t.mask&&n.off("keydown.xdsoft"),!0===t.mask&&("undefined"!=typeof moment?t.mask=t.format.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59"):t.mask=t.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(t.mask)&&(o(t.mask,n.val())||(n.val(t.mask.replace(/[0-9]/g,"_")),r(n[0],0)),n.on("keydown.xdsoft",function(i){var s,l,d=this.value,F=i.which;if(F>=u&&F<=c||F>=f&&F<=h||F===D||F===g){for(s=a(this),l=F!==D&&F!==g?String.fromCharCode(f<=F&&F<=h?F-u:F):"_",F!==D&&F!==g||!s||(s-=1,l="_");/[^0-9_]/.test(t.mask.substr(s,1))&&s<t.mask.length&&s>0;)s+=F===D||F===g?-1:1;if(d=d.substr(0,s)+l+d.substr(s+1),""===e.trim(d))d=t.mask.replace(/[0-9]/g,"_");else if(s===t.mask.length)return i.preventDefault(),!1;for(s+=F===D||F===g?0:1;/[^0-9_]/.test(t.mask.substr(s,1))&&s<t.mask.length&&s>0;)s+=F===D||F===g?-1:1;o(t.mask,d)?(this.value=d,r(this,s)):""===e.trim(d)?this.value=t.mask.replace(/[0-9]/g,"_"):n.trigger("error_input.xdsoft")}else if(-1!==[k,M,S,C,O].indexOf(F)&&Y||-1!==[x,y,w,v,T,_,m,b,p].indexOf(F))return!0;return i.preventDefault(),!1}))}var l,d,H,W,P,I,A=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),j=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),z=e('<div class="xdsoft_datepicker active"></div>'),R=e('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),N=e('<div class="xdsoft_calendar"></div>'),B=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),E=B.find(".xdsoft_time_box").eq(0),L=e('<div class="xdsoft_time_variant"></div>'),q=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),G=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),V=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),U=!1,X=0;F.id&&A.attr("id",F.id),F.style&&A.attr("style",F.style),F.weeks&&A.addClass("xdsoft_showweeks"),F.rtl&&A.addClass("xdsoft_rtl"),A.addClass("xdsoft_"+F.theme),A.addClass(F.className),R.find(".xdsoft_month span").after(G),R.find(".xdsoft_year span").after(V),R.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var n,o,a=e(this).find(".xdsoft_select").eq(0),r=0,i=0,s=a.is(":visible");for(R.find(".xdsoft_select").hide(),P.currentTime&&(r=P.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),a[s?"hide":"show"](),n=a.find("div.xdsoft_option"),o=0;o<n.length&&n.eq(o).data("value")!==r;o+=1)i+=n[0].offsetHeight;return a.xdsoftScroller(F,i/(a.children()[0].offsetHeight-a[0].clientHeight)),t.stopPropagation(),!1}),R.find(".xdsoft_select").xdsoftScroller(F).on("touchstart mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("touchstart mousedown.xdsoft",".xdsoft_option",function(){void 0!==P.currentTime&&null!==P.currentTime||(P.currentTime=P.now());var t=P.currentTime.getFullYear();P&&P.currentTime&&P.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),A.trigger("xchange.xdsoft"),F.onChangeMonth&&e.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(A,P.currentTime,A.data("input")),t!==P.currentTime.getFullYear()&&e.isFunction(F.onChangeYear)&&F.onChangeYear.call(A,P.currentTime,A.data("input"))}),A.getValue=function(){return P.getCurrentTime()},A.setOptions=function(a){var r={};F=e.extend(!0,{},F,a),a.allowTimes&&e.isArray(a.allowTimes)&&a.allowTimes.length&&(F.allowTimes=e.extend(!0,[],a.allowTimes)),a.weekends&&e.isArray(a.weekends)&&a.weekends.length&&(F.weekends=e.extend(!0,[],a.weekends)),a.allowDates&&e.isArray(a.allowDates)&&a.allowDates.length&&(F.allowDates=e.extend(!0,[],a.allowDates)),a.allowDateRe&&"[object String]"===Object.prototype.toString.call(a.allowDateRe)&&(F.allowDateRe=new RegExp(a.allowDateRe)),a.highlightedDates&&e.isArray(a.highlightedDates)&&a.highlightedDates.length&&(e.each(a.highlightedDates,function(n,a){var i,s=e.map(a.split(","),e.trim),l=new t(o.parseDate(s[0],F.formatDate),s[1],s[2]),d=o.formatDate(l.date,F.formatDate);void 0!==r[d]?(i=r[d].desc)&&i.length&&l.desc&&l.desc.length&&(r[d].desc=i+"\n"+l.desc):r[d]=l}),F.highlightedDates=e.extend(!0,[],r)),a.highlightedPeriods&&e.isArray(a.highlightedPeriods)&&a.highlightedPeriods.length&&(r=e.extend(!0,[],F.highlightedDates),e.each(a.highlightedPeriods,function(n,a){var i,s,l,d,u,c,f;if(e.isArray(a))i=a[0],s=a[1],l=a[2],f=a[3];else{var h=e.map(a.split(","),e.trim);i=o.parseDate(h[0],F.formatDate),s=o.parseDate(h[1],F.formatDate),l=h[2],f=h[3]}for(;i<=s;)d=new t(i,l,f),u=o.formatDate(i,F.formatDate),i.setDate(i.getDate()+1),void 0!==r[u]?(c=r[u].desc)&&c.length&&d.desc&&d.desc.length&&(r[u].desc=c+"\n"+d.desc):r[u]=d}),F.highlightedDates=e.extend(!0,[],r)),a.disabledDates&&e.isArray(a.disabledDates)&&a.disabledDates.length&&(F.disabledDates=e.extend(!0,[],a.disabledDates)),a.disabledWeekDays&&e.isArray(a.disabledWeekDays)&&a.disabledWeekDays.length&&(F.disabledWeekDays=e.extend(!0,[],a.disabledWeekDays)),!F.open&&!F.opened||F.inline||n.trigger("open.xdsoft"),F.inline&&(U=!0,A.addClass("xdsoft_inline"),n.after(A).hide()),F.inverseButton&&(F.next="xdsoft_prev",F.prev="xdsoft_next"),F.datepicker?z.addClass("active"):z.removeClass("active"),F.timepicker?B.addClass("active"):B.removeClass("active"),F.value&&(P.setCurrentTime(F.value),n&&n.val&&n.val(P.str)),isNaN(F.dayOfWeekStart)?F.dayOfWeekStart=0:F.dayOfWeekStart=parseInt(F.dayOfWeekStart,10)%7,F.timepickerScrollbar||E.xdsoftScroller(F,"hide"),F.minDate&&/^[\+\-](.*)$/.test(F.minDate)&&(F.minDate=o.formatDate(P.strToDateTime(F.minDate),F.formatDate)),F.maxDate&&/^[\+\-](.*)$/.test(F.maxDate)&&(F.maxDate=o.formatDate(P.strToDateTime(F.maxDate),F.formatDate)),F.minDateTime&&/^\+(.*)$/.test(F.minDateTime)&&(F.minDateTime=P.strToDateTime(F.minDateTime).dateFormat(F.formatDate)),q.toggle(F.showApplyButton),R.find(".xdsoft_today_button").css("visibility",F.todayButton?"visible":"hidden"),R.find("."+F.prev).css("visibility",F.prevButton?"visible":"hidden"),R.find("."+F.next).css("visibility",F.nextButton?"visible":"hidden"),s(F),F.validateOnBlur&&n.off("blur.xdsoft").on("blur.xdsoft",function(){if(F.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof F.mask&&e.trim(e(this).val())===F.mask.replace(/[0-9]/g,"_")))e(this).val(null),A.data("xdsoft_datetime").empty();else{var t=o.parseDate(e(this).val(),F.format);if(t)e(this).val(o.formatDate(t,F.format));else{var n=+[e(this).val()[0],e(this).val()[1]].join(""),a=+[e(this).val()[2],e(this).val()[3]].join("");!F.datepicker&&F.timepicker&&n>=0&&n<24&&a>=0&&a<60?e(this).val([n,a].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(o.formatDate(P.now(),F.format))}A.data("xdsoft_datetime").setCurrentTime(e(this).val())}A.trigger("changedatetime.xdsoft"),A.trigger("close.xdsoft")}),F.dayOfWeekStartPrev=0===F.dayOfWeekStart?6:F.dayOfWeekStart-1,A.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},A.data("options",F).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),V.hide(),G.hide(),!1}),E.append(L),E.xdsoftScroller(F),A.on("afterOpen.xdsoft",function(){E.xdsoftScroller(F)}),A.append(z).append(B),!0!==F.withoutCopyright&&A.append(j),z.append(R).append(N).append(q),e(F.parentID).append(A),P=new function(){var t=this;t.now=function(e){var n,o,a=new Date;return!e&&F.defaultDate&&(n=t.strToDateTime(F.defaultDate),a.setFullYear(n.getFullYear()),a.setMonth(n.getMonth()),a.setDate(n.getDate())),F.yearOffset&&a.setFullYear(a.getFullYear()+F.yearOffset),!e&&F.defaultTime&&(o=t.strtotime(F.defaultTime),a.setHours(o.getHours()),a.setMinutes(o.getMinutes())),a},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,n){"string"==typeof e?t.currentTime=t.strToDateTime(e):t.isValidDate(e)?t.currentTime=e:e||n||!F.allowBlank||F.inline?t.currentTime=t.now():t.currentTime=null,A.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n,o=t.currentTime.getMonth()+1;return 12===o&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),o=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),o+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(o),F.onChangeMonth&&e.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(A,P.currentTime,A.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(F.onChangeYear)&&F.onChangeYear.call(A,P.currentTime,A.data("input")),A.trigger("xchange.xdsoft"),o},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),F.onChangeMonth&&e.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(A,P.currentTime,A.data("input")),A.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(t){if(F.onGetWeekOfYear&&e.isFunction(F.onGetWeekOfYear)){var n=F.onGetWeekOfYear.call(A,t);if(void 0!==n)return n}var o=new Date(t.getFullYear(),0,1);return 4!==o.getDay()&&o.setMonth(0,1+(4-o.getDay()+7)%7),Math.ceil(((t-o)/864e5+o.getDay()+1)/7)},t.strToDateTime=function(e){var n,a,r=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((r=/^([+-]{1})(.*)$/.exec(e))&&(r[2]=o.parseDate(r[2],F.formatDate)),r&&r[2]?(n=r[2].getTime()-6e4*r[2].getTimezoneOffset(),a=new Date(t.now(!0).getTime()+parseInt(r[1]+"1",10)*n)):a=e?o.parseDate(e,F.format):t.now(),t.isValidDate(a)||(a=t.now()),a)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?o.parseDate(e,F.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?o.parseDate(e,F.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){return o.formatDate(t.currentTime,F.format)},t.currentTime=this.now()},q.on("touchend click",function(e){e.preventDefault(),A.data("changed",!0),P.setCurrentTime(i()),n.val(P.str()),A.trigger("close.xdsoft")}),R.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){A.data("changed",!0),P.setCurrentTime(0,!0),A.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,t,o=P.getCurrentTime();o=new Date(o.getFullYear(),o.getMonth(),o.getDate()),e=P.strToDate(F.minDate),o<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(t=P.strToDate(F.maxDate),o>(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))||(n.val(P.str()),n.trigger("change"),A.trigger("close.xdsoft")))}),R.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,o=!1;!function e(a){t.hasClass(F.next)?P.nextMonth():t.hasClass(F.prev)&&P.prevMonth(),F.monthChangeSpinner&&(o||(n=setTimeout(e,a||100)))}(500),e([F.ownerDocument.body,F.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(n),o=!0,e([F.ownerDocument.body,F.contentWindow]).off("touchend mouseup.xdsoft",t)})}),B.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,o=!1,a=110;!function e(r){var i=E[0].clientHeight,s=L[0].offsetHeight,l=Math.abs(parseInt(L.css("marginTop"),10));t.hasClass(F.next)&&s-i-F.timeHeightInTimePicker>=l?L.css("marginTop","-"+(l+F.timeHeightInTimePicker)+"px"):t.hasClass(F.prev)&&l-F.timeHeightInTimePicker>=0&&L.css("marginTop","-"+(l-F.timeHeightInTimePicker)+"px"),E.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(L[0].style.marginTop,10)/(s-i))]),a=a>10?10:a-10,o||(n=setTimeout(e,r||a))}(500),e([F.ownerDocument.body,F.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(n),o=!0,e([F.ownerDocument.body,F.contentWindow]).off("touchend mouseup.xdsoft",t)})}),l=0,A.on("xchange.xdsoft",function(t){clearTimeout(l),l=setTimeout(function(){void 0!==P.currentTime&&null!==P.currentTime||(P.currentTime=P.now());for(var t,i,s,l,d,u,c,f,h,m,g="",p=new Date(P.currentTime.getFullYear(),P.currentTime.getMonth(),1,12,0,0),x=0,D=P.now(),v=!1,y=!1,T=!1,w=[],b=!0,_="";p.getDay()!==F.dayOfWeekStart;)p.setDate(p.getDate()-1);for(g+="<table><thead><tr>",F.weeks&&(g+="<th></th>"),t=0;t<7;t+=1)g+="<th>"+F.i18n[a].dayOfWeekShort[(t+F.dayOfWeekStart)%7]+"</th>";for(g+="</tr></thead>",g+="<tbody>",!1!==F.maxDate&&(v=P.strToDate(F.maxDate),v=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999)),!1!==F.minDate&&(y=P.strToDate(F.minDate),y=new Date(y.getFullYear(),y.getMonth(),y.getDate())),!1!==F.minDateTime&&(T=P.strToDate(F.minDateTime),T=new Date(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds()));x<P.currentTime.countDaysInMonth()||p.getDay()!==F.dayOfWeekStart||P.currentTime.getMonth()===p.getMonth();)w=[],x+=1,s=p.getDay(),l=p.getDate(),d=p.getFullYear(),u=p.getMonth(),c=P.getWeekOfYear(p),m="",w.push("xdsoft_date"),f=F.beforeShowDay&&e.isFunction(F.beforeShowDay.call)?F.beforeShowDay.call(A,p):null,F.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(F.allowDateRe)?F.allowDateRe.test(o.formatDate(p,F.formatDate))||w.push("xdsoft_disabled"):F.allowDates&&F.allowDates.length>0?-1===F.allowDates.indexOf(o.formatDate(p,F.formatDate))&&w.push("xdsoft_disabled"):!1!==v&&p>v||!1!==T&&p<T||!1!==y&&p<y||f&&!1===f[0]?w.push("xdsoft_disabled"):-1!==F.disabledDates.indexOf(o.formatDate(p,F.formatDate))?w.push("xdsoft_disabled"):-1!==F.disabledWeekDays.indexOf(s)?w.push("xdsoft_disabled"):n.is("[disabled]")&&w.push("xdsoft_disabled"),f&&""!==f[1]&&w.push(f[1]),P.currentTime.getMonth()!==u&&w.push("xdsoft_other_month"),(F.defaultSelect||A.data("changed"))&&o.formatDate(P.currentTime,F.formatDate)===o.formatDate(p,F.formatDate)&&w.push("xdsoft_current"),o.formatDate(D,F.formatDate)===o.formatDate(p,F.formatDate)&&w.push("xdsoft_today"),0!==p.getDay()&&6!==p.getDay()&&-1===F.weekends.indexOf(o.formatDate(p,F.formatDate))||w.push("xdsoft_weekend"),void 0!==F.highlightedDates[o.formatDate(p,F.formatDate)]&&(i=F.highlightedDates[o.formatDate(p,F.formatDate)],w.push(void 0===i.style?"xdsoft_highlighted_default":i.style),m=void 0===i.desc?"":i.desc),F.beforeShowDay&&e.isFunction(F.beforeShowDay)&&w.push(F.beforeShowDay(p)),b&&(g+="<tr>",b=!1,F.weeks&&(g+="<th>"+c+"</th>")),g+='<td data-date="'+l+'" data-month="'+u+'" data-year="'+d+'" class="xdsoft_date xdsoft_day_of_week'+p.getDay()+" "+w.join(" ")+'" title="'+m+'"><div>'+l+"</div></td>",p.getDay()===F.dayOfWeekStartPrev&&(g+="</tr>",b=!0),p.setDate(l+1);if(g+="</tbody></table>",N.html(g),R.find(".xdsoft_label span").eq(0).text(F.i18n[a].months[P.currentTime.getMonth()]),R.find(".xdsoft_label span").eq(1).text(P.currentTime.getFullYear()),_="","",u="",h=function(t,a){var r,i,s=P.now(),l=F.allowTimes&&e.isArray(F.allowTimes)&&F.allowTimes.length;s.setHours(t),t=parseInt(s.getHours(),10),s.setMinutes(a),a=parseInt(s.getMinutes(),10),(r=new Date(P.currentTime)).setHours(t),r.setMinutes(a),w=[],!1!==F.minDateTime&&F.minDateTime>r||!1!==F.maxTime&&P.strtotime(F.maxTime).getTime()<s.getTime()||!1!==F.minTime&&P.strtotime(F.minTime).getTime()>s.getTime()?w.push("xdsoft_disabled"):!1!==F.minDateTime&&F.minDateTime>r||!1!==F.disabledMinTime&&s.getTime()>P.strtotime(F.disabledMinTime).getTime()&&!1!==F.disabledMaxTime&&s.getTime()<P.strtotime(F.disabledMaxTime).getTime()?w.push("xdsoft_disabled"):n.is("[disabled]")&&w.push("xdsoft_disabled"),(i=new Date(P.currentTime)).setHours(parseInt(P.currentTime.getHours(),10)),l||i.setMinutes(Math[F.roundTime](P.currentTime.getMinutes()/F.step)*F.step),(F.initTime||F.defaultSelect||A.data("changed"))&&i.getHours()===parseInt(t,10)&&(!l&&F.step>59||i.getMinutes()===parseInt(a,10))&&(F.defaultSelect||A.data("changed")?w.push("xdsoft_current"):F.initTime&&w.push("xdsoft_init_time")),parseInt(D.getHours(),10)===parseInt(t,10)&&parseInt(D.getMinutes(),10)===parseInt(a,10)&&w.push("xdsoft_today"),_+='<div class="xdsoft_time '+w.join(" ")+'" data-hour="'+t+'" data-minute="'+a+'">'+o.formatDate(s,F.formatTime)+"</div>"},F.allowTimes&&e.isArray(F.allowTimes)&&F.allowTimes.length)for(x=0;x<F.allowTimes.length;x+=1)h(P.strtotime(F.allowTimes[x]).getHours(),u=P.strtotime(F.allowTimes[x]).getMinutes());else for(x=0,t=0;x<(F.hours12?12:24);x+=1)for(t=0;t<60;t+=F.step)h((x<10?"0":"")+x,u=(t<10?"0":"")+t);for(L.html(_),r="",x=parseInt(F.yearStart,10)+F.yearOffset;x<=parseInt(F.yearEnd,10)+F.yearOffset;x+=1)r+='<div class="xdsoft_option '+(P.currentTime.getFullYear()===x?"xdsoft_current":"")+'" data-value="'+x+'">'+x+"</div>";for(V.children().eq(0).html(r),x=parseInt(F.monthStart,10),r="";x<=parseInt(F.monthEnd,10);x+=1)r+='<div class="xdsoft_option '+(P.currentTime.getMonth()===x?"xdsoft_current":"")+'" data-value="'+x+'">'+F.i18n[a].months[x]+"</div>";G.children().eq(0).html(r),e(A).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(F.timepicker){var e,t,n,o;L.find(".xdsoft_current").length?e=".xdsoft_current":L.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=E[0].clientHeight,(n=L[0].offsetHeight)-t<(o=L.find(e).index()*F.timeHeightInTimePicker+1)&&(o=n-t),E.trigger("scroll_element.xdsoft_scroller",[parseInt(o,10)/(n-t)])):E.trigger("scroll_element.xdsoft_scroller",[0])}}),d=0,N.on("touchend click.xdsoft","td",function(t){t.stopPropagation(),d+=1;var o=e(this),a=P.currentTime;if(void 0!==a&&null!==a||(P.currentTime=P.now(),a=P.currentTime),o.hasClass("xdsoft_disabled"))return!1;a.setDate(1),a.setFullYear(o.data("year")),a.setMonth(o.data("month")),a.setDate(o.data("date")),A.trigger("select.xdsoft",[a]),n.val(P.str()),F.onSelectDate&&e.isFunction(F.onSelectDate)&&F.onSelectDate.call(A,P.currentTime,A.data("input"),t),A.data("changed",!0),A.trigger("xchange.xdsoft"),A.trigger("changedatetime.xdsoft"),(d>1||!0===F.closeOnDateSelect||!1===F.closeOnDateSelect&&!F.timepicker)&&!F.inline&&A.trigger("close.xdsoft"),setTimeout(function(){d=0},200)}),L.on("touchend click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),o=P.currentTime;if(void 0!==o&&null!==o||(P.currentTime=P.now(),o=P.currentTime),n.hasClass("xdsoft_disabled"))return!1;o.setHours(n.data("hour")),o.setMinutes(n.data("minute")),A.trigger("select.xdsoft",[o]),A.data("input").val(P.str()),F.onSelectTime&&e.isFunction(F.onSelectTime)&&F.onSelectTime.call(A,P.currentTime,A.data("input"),t),A.data("changed",!0),A.trigger("xchange.xdsoft"),A.trigger("changedatetime.xdsoft"),!0!==F.inline&&!0===F.closeOnTimeSelect&&A.trigger("close.xdsoft")}),z.on("mousewheel.xdsoft",function(e){return!F.scrollMonth||(e.deltaY<0?P.nextMonth():P.prevMonth(),!1)}),n.on("mousewheel.xdsoft",function(e){return!F.scrollInput||(!F.datepicker&&F.timepicker?((H=L.find(".xdsoft_current").length?L.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&H+e.deltaY<L.children().length&&(H+=e.deltaY),L.children().eq(H).length&&L.children().eq(H).trigger("mousedown"),!1):F.datepicker&&!F.timepicker?(z.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),n.val&&n.val(P.str()),A.trigger("changedatetime.xdsoft"),!1):void 0)}),A.on("changedatetime.xdsoft",function(t){if(F.onChangeDateTime&&e.isFunction(F.onChangeDateTime)){var n=A.data("input");F.onChangeDateTime.call(A,P.currentTime,n,t),delete F.value,n.trigger("change")}}).on("generate.xdsoft",function(){F.onGenerate&&e.isFunction(F.onGenerate)&&F.onGenerate.call(A,P.currentTime,A.data("input")),U&&(A.trigger("afterOpen.xdsoft"),U=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),H=0,I=function(e,t){do{if(!(e=e.parentNode)||!1===t(e))break}while("HTML"!==e.nodeName)},W=function(){var t,n,o,a,r,i,s,l,d,u,c,f,h;if(l=A.data("input"),t=l.offset(),n=l[0],u="top",o=t.top+n.offsetHeight-1,a=t.left,r="absolute",d=e(F.contentWindow).width(),f=e(F.contentWindow).height(),h=e(F.contentWindow).scrollTop(),F.ownerDocument.documentElement.clientWidth-t.left<z.parent().outerWidth(!0)){var m=z.parent().outerWidth(!0)-n.offsetWidth;a-=m}"rtl"===l.parent().css("direction")&&(a-=A.outerWidth()-l.outerWidth()),F.fixed?(o-=h,a-=e(F.contentWindow).scrollLeft(),r="fixed"):(s=!1,I(n,function(e){return null!==e&&("fixed"===F.contentWindow.getComputedStyle(e).getPropertyValue("position")?(s=!0,!1):void 0)}),s?(r="fixed",o+A.outerHeight()>f+h?(u="bottom",o=f+h-t.top):o-=h):o+A[0].offsetHeight>f+h&&(o=t.top-A[0].offsetHeight+1),o<0&&(o=0),a+n.offsetWidth>d&&(a=d-n.offsetWidth)),i=A[0],I(i,function(e){if("relative"===F.contentWindow.getComputedStyle(e).getPropertyValue("position")&&d>=e.offsetWidth)return a-=(d-e.offsetWidth)/2,!1}),(c={position:r,left:a,top:"",bottom:""})[u]=o,A.css(c)},A.on("open.xdsoft",function(t){var n=!0;F.onShow&&e.isFunction(F.onShow)&&(n=F.onShow.call(A,P.currentTime,A.data("input"),t)),!1!==n&&(A.show(),W(),e(F.contentWindow).off("resize.xdsoft",W).on("resize.xdsoft",W),F.closeOnWithoutClick&&e([F.ownerDocument.body,F.contentWindow]).on("touchstart mousedown.xdsoft",function t(){A.trigger("close.xdsoft"),e([F.ownerDocument.body,F.contentWindow]).off("touchstart mousedown.xdsoft",t)}))}).on("close.xdsoft",function(t){var n=!0;R.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),F.onClose&&e.isFunction(F.onClose)&&(n=F.onClose.call(A,P.currentTime,A.data("input"),t)),!1===n||F.opened||F.inline||A.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){A.is(":visible")?A.trigger("close.xdsoft"):A.trigger("open.xdsoft")}).data("input",n),X=0,A.data("xdsoft_datetime",P),A.setOptions(F),P.setCurrentTime(i()),n.data("xdsoft_datetimepicker",A).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){n.is(":disabled")||n.data("xdsoft_datetimepicker").is(":visible")&&F.closeOnInputClick||(clearTimeout(X),X=setTimeout(function(){n.is(":disabled")||(U=!0,P.setCurrentTime(i(),!0),F.mask&&s(F),A.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n,o=t.which;return-1!==[p].indexOf(o)&&F.enterLikeTab?(n=e("input:visible,textarea:visible,button:visible,a:visible"),A.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[b].indexOf(o)?(A.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){A.trigger("close.xdsoft")})},l=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(F.contentWindow).off("resize.xdsoft"),e([F.contentWindow,F.ownerDocument.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(F.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===m&&(Y=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===m&&(Y=!1)}),this.each(function(){var t=e(this).data("xdsoft_datetimepicker");if(t){if("string"===e.type(r))switch(r){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"toggle":t.trigger("toggle.xdsoft");break;case"destroy":l(e(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(o.parseDate(this.value,F.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":t.data("input").trigger("blur.xdsoft");break;default:t[r]&&e.isFunction(t[r])&&(d=t[r](i))}else t.setOptions(r);return 0}"string"!==e.type(r)&&(!F.lazyInit||F.open||F.inline?s(e(this)):W(e(this)))}),d},e.fn.datetimepicker.defaults=n};!function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(datetimepickerFactory),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var i=t||window.event,s=l.call(arguments,1),d=0,c=0,f=0,h=0,m=0,g=0;if(t=e.event.fix(i),t.type="mousewheel","detail"in i&&(f=-1*i.detail),"wheelDelta"in i&&(f=i.wheelDelta),"wheelDeltaY"in i&&(f=i.wheelDeltaY),"wheelDeltaX"in i&&(c=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(c=-1*f,f=0),d=0===f?c:f,"deltaY"in i&&(d=f=-1*i.deltaY),"deltaX"in i&&(c=i.deltaX,0===f&&(d=-1*c)),0!==f||0!==c){if(1===i.deltaMode){var p=e.data(this,"mousewheel-line-height");d*=p,f*=p,c*=p}else if(2===i.deltaMode){var x=e.data(this,"mousewheel-page-height");d*=x,f*=x,c*=x}if(h=Math.max(Math.abs(f),Math.abs(c)),(!r||h<r)&&(r=h,o(i,h)&&(r/=40)),o(i,h)&&(d/=40,c/=40,f/=40),d=Math[d>=1?"floor":"ceil"](d/r),c=Math[c>=1?"floor":"ceil"](c/r),f=Math[f>=1?"floor":"ceil"](f/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var D=this.getBoundingClientRect();m=t.clientX-D.left,g=t.clientY-D.top}return t.deltaX=c,t.deltaY=f,t.deltaFactor=r,t.offsetX=m,t.offsetY=g,t.deltaMode=0,s.unshift(t,d,c,f),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function o(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,r,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var d=i.length;d;)e.event.fixHooks[i[--d]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),o=n["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
